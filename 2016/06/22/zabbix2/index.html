<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="添加一台主机到zabbix

安装zabbix-agent
修改配置文件/etc/zabbix/zabbix-agnetd.conf(修改Server为zabbix服务端)
启动zabbix-agent
web配置（添加主机－item-模板）">
<meta property="og:type" content="article">
<meta property="og:title" content="zabbix2">
<meta property="og:url" content="http://aresona.github.io/2016/06/22/zabbix2/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="添加一台主机到zabbix

安装zabbix-agent
修改配置文件/etc/zabbix/zabbix-agnetd.conf(修改Server为zabbix服务端)
启动zabbix-agent
web配置（添加主机－item-模板）">
<meta property="og:image" content="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E7%9B%91%E6%8E%A7%E6%9E%B6%E6%9E%84%E5%AE%9E%E9%AA%8C%E5%9B%BE.png">
<meta property="og:image" content="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%9B%BE1.png">
<meta property="og:image" content="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%9B%BE2.png">
<meta property="og:image" content="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix%E7%9B%91%E6%8E%A7JMX%E5%8E%9F%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.png">
<meta property="og:updated_time" content="2016-06-22T14:09:17.474Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zabbix2">
<meta name="twitter:description" content="添加一台主机到zabbix

安装zabbix-agent
修改配置文件/etc/zabbix/zabbix-agnetd.conf(修改Server为zabbix服务端)
启动zabbix-agent
web配置（添加主机－item-模板）">
<meta name="twitter:image" content="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E7%9B%91%E6%8E%A7%E6%9E%B6%E6%9E%84%E5%AE%9E%E9%AA%8C%E5%9B%BE.png">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://aresona.github.io/2016/06/22/zabbix2/"/>

  <title> zabbix2 | Hexo </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Hexo</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                zabbix2
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-22T22:05:17+08:00" content="2016-06-22">
              2016-06-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p><strong>添加一台主机到zabbix</strong></p>
<ol>
<li>安装zabbix-agent</li>
<li>修改配置文件/etc/zabbix/zabbix-agnetd.conf(修改Server为zabbix服务端)</li>
<li>启动zabbix-agent</li>
<li>web配置（添加主机－item-模板）<a id="more"></a>
</li>
</ol>
<p>######## zabbix-agnet配置文件分为下面几部分</p>
<ol>
<li>general parameters</li>
<li>Passive Check Related</li>
<li>Active Check Related（主动模式的时候HostName参数很重要，并且需要跟WEB上的主机名保持一致）</li>
<li>ADVANCED PARAMETERS</li>
<li>USER-DEFINED MONITORED PARAMETERS</li>
<li>LOADABLE MODULES</li>
<li>TLS-RELATED PARAMETERS</li>
</ol>
<h6 id="web配置（通过克隆的方式）"><a href="#web配置（通过克隆的方式）" class="headerlink" title="web配置（通过克隆的方式）"></a>web配置（通过克隆的方式）</h6><p>主机 –&gt; 全部克隆 –&gt; 修改 –&gt; templates选 OS Linux</p>
<blockquote>
<p>对于模板来说，一般使用的就是linux那个模板，还有就是一些自定义的模板。<br>可能会用到的一些模板：</p>
</blockquote>
<ol>
<li>APP相关Template App HTTP Service（这类模板一般只会检测服务是否宕了）</li>
<li>ICMP相关</li>
<li>JMX相关</li>
<li>各类操作系统相关</li>
<li>SNMP相关</li>
<li>虚拟机相关<br><strong>修改maps</strong></li>
</ol>
<ul>
<li>修改lable<pre>
{HOST.NAME}
{HOST.IP}
</pre></li>
<li>在两台主机间加链接并显示之间的网卡流量<pre>
{linux-node1.oldboyedu.com:net.if.out[eth0].last(0)}
</pre>

</li>
</ul>
<blockquote>
<p>这个功能可以用来做一些自己想实时了解的主机之间的流量监控,通过图形做出来后架构会更清晰</p>
</blockquote>
<h3 id="报警"><a href="#报警" class="headerlink" title="报警"></a>报警</h3><blockquote>
<p>报警的本质是事件通知</p>
</blockquote>
<h4 id="事件通知的几个方面"><a href="#事件通知的几个方面" class="headerlink" title="事件通知的几个方面"></a>事件通知的几个方面</h4><ol>
<li>通知啥（Action）</li>
<li>什么情况下通知(conditions)</li>
<li>怎么通知(operations)</li>
<li>通过什么途径发送(media types)</li>
<li>发送给谁(users-Media)</li>
<li>通知升级</li>
<li>发送目标</li>
</ol>
<p>设置报警需要设置三个地方：Aactions   Media types   Users-Media</p>
<p>Actions里面设置内容包括:短信内容、发送条件（默认是item状态为PROBLEM时）、执行操作（执行命令或发送消息，发送方式、发送给哪个用户等）<br>Users-Media Types里面主要用来设置发送消息的几种方式（邮件、脚本，默认只有邮件可以用，可以新建通过脚本的方式来做报警方式）<br>Users-Media  这里主要定义的是该zabbix用户绑定的邮箱是哪个</p>
<h5 id="完整的告警流程"><a href="#完整的告警流程" class="headerlink" title="完整的告警流程"></a>完整的告警流程</h5><blockquote>
<p>模拟新人入职</p>
</blockquote>
<ul>
<li>创建用户组<ul>
<li>ops  权限(可以添加读写，只读)   权限只能按用户组分配(这里可以设短信内置对所有主机模板等一些资源的权限,有只读/读写/拒绝)</li>
</ul>
</li>
</ul>
<ol>
<li>添加用户</li>
<li>设置报警媒介</li>
<li>Action（这里主要是把相应的报警项权限给新用户）</li>
</ol>
<blockquote>
<p>如果新加一台机器，又新加了一个用户，这时要看一下这个用户是不是有这些机器的权限。<br>添加新主机后，要确认权限分配</p>
</blockquote>
<p>可以为三种事件源定义动作</p>
<ul>
<li>Triggers - when trigger status changes#触发器动作设置是报警信息常用的</li>
<li>Discovery - when discovery takes place</li>
<li>Auto registration - when new active agents auto-register</li>
</ul>
<h2 id="生产案例实战"><a href="#生产案例实战" class="headerlink" title="生产案例实战"></a>生产案例实战</h2><p><img src="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E7%9B%91%E6%8E%A7%E6%9E%B6%E6%9E%84%E5%AE%9E%E9%AA%8C%E5%9B%BE.png" alt="监控实验架构图"></p>
<blockquote>
<p>无论再小的架构，也要先规划</p>
</blockquote>
<h3 id="项目规划"><a href="#项目规划" class="headerlink" title="项目规划"></a>项目规划</h3><ul>
<li><p>主机分组 </p>
<ul>
<li>交换机</li>
<li>Nginx</li>
<li>Tomcat</li>
<li>MySQL</li>
</ul>
</li>
<li><p>监控对象识别</p>
<ol>
<li>使用SNMP监控交换机</li>
<li>使用IPMI监控服务器硬件 </li>
<li>使用Agent监控服务器</li>
<li>使用JMX监控JAVA应用 </li>
<li>使用percona的模板监控MySQL</li>
<li>监控WEB状态</li>
<li>监控Nginx状态</li>
</ol>
</li>
</ul>
<h3 id="实施监控"><a href="#实施监控" class="headerlink" title="实施监控"></a>实施监控</h3><h6 id="SNMP监控"><a href="#SNMP监控" class="headerlink" title="SNMP监控"></a>SNMP监控</h6><p><strong><em>设备配置</em></strong></p>
<ul>
<li>思科交换机配置命令<pre>
snmp-server community public ro
</pre></li>
<li>H3C交换机配置命令<pre>
system-view
snmp-agent sys-info version v1 v2c
snmp-agent community read public
</pre></li>
<li>Centos7配置SNMP2<pre>
[root@localhost snmp]# grep -vE '#|^$' snmpd.conf 
com2sec notConfigUser  default       public
group   notConfigGroup v1           notConfigUser
group   notConfigGroup v2c           notConfigUser
view    systemview    included   .1.3.6.1.2.1.1
view    systemview    included   .1.3.6.1.2.1.25.1.1
access  notConfigGroup ""      any       noauth    exact  all    none none
         incl/excl subtree                          mask
view all    included  .1                               80
-or just the mib2 tree-
view mib2   included  .iso.org.dod.internet.mgmt.mib-2 fc
access  notConfigGroup ""      any       noauth    exact  roview rwview none
syslocation Unknown (edit /etc/snmp/snmpd.conf)
syscontact Root <root@localhost> (configure /etc/snmp/snmp.local.conf)
dontLogTCPWrappersConnects yes
</root@localhost></pre>

</li>
</ul>
<p><strong><em>WEB界面添加监控</em></strong></p>
<p>如配置交换机（可以使用GNS3来模拟网络设备）</p>
<ul>
<li><p>填写基本信息</p>
<pre>
configure-->host-->create host-->switch-node1-->New Group(switch-group)-->SNMP interfaces-->port
</pre>
</li>
<li><p>关联监控模板（SNMP Device,可以监控防火墙、路由器、交换机）</p>
</li>
<li>设置SNMP团体名称(Macros   {$SNMP_COMMUNITY} ＝ public</li>
</ul>
<blockquote>
<p>为什么要加宏？  因为模板里面的items里面需要用到这个变量</p>
</blockquote>
<p>添加完毕后它会做端口的自动发现，这里有一些截图，每个端口都会有触发器，并且可以看到每个端口的一些流量图<br><img src="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%9B%BE1.png" alt=""><br><img src="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/%E4%BA%A4%E6%8D%A2%E6%9C%BA%E7%9B%B8%E5%85%B3%E5%9B%BE2.png" alt=""></p>
<h6 id="IPMI监控"><a href="#IPMI监控" class="headerlink" title="IPMI监控"></a>IPMI监控</h6><ul>
<li>web配置IPMI监控项，加上IP地址和用户名、密码（IPMI太容易超时了，获取不到值，并且性能也有问题，<strong>个人建议使用自定义脚本来创建item,本地执行ipmitool命令来获取数据</strong>）</li>
</ul>
<p><em>常用命令</em></p>
<pre><code>ipmitool set list 
ipmitool sensor list     
</code></pre><blockquote>
<p>另外就算用了IPMI接口，它自带的IPMI的模板不好使，对不上，很多值获取不到，每台机器可能都不一样。</p>
</blockquote>
<h6 id="使用Agent监控服务器"><a href="#使用Agent监控服务器" class="headerlink" title="使用Agent监控服务器"></a>使用Agent监控服务器</h6><h6 id="使用JMX监控JAVA"><a href="#使用JMX监控JAVA" class="headerlink" title="使用JMX监控JAVA"></a>使用JMX监控JAVA</h6><p><a href="http://caisangzi.blog.51cto.com/6387416/1301682" target="_blank" rel="external">实现原理</a></p>
<p>zabbix是使用C++写的，cacti是通过php去采集数据的</p>
<p>JMX三种监控类型：1.无密码认证  2. 用户名密码认证，  3. ssl  </p>
<p>做完之后通过jconsole连上去看一下</p>
<p><strong><em>Zabbix java Gateway</em></strong></p>
<p>zabbix默认提供了一个能监控JAVA应用的JMX接口（zabbix java gateway）,它就是用java写的</p>
<p>java-geteway可以理解成一个代理，它跟zabbix server完全独立的两个程序</p>
<p><img src="https://github.com/Aresona/edu-docs/blob/master/image/%E7%9B%91%E6%8E%A7%E7%9B%B8%E5%85%B3/zabbix%E7%9B%91%E6%8E%A7JMX%E5%8E%9F%E7%90%86%E7%A4%BA%E6%84%8F%E5%9B%BE.png" alt="监控java应用的原理"></p>
<p>它不存任何的数据，它就是一个代理</p>
<p><em>安装及配置文件路径</em></p>
<pre>
yum install -y zabbix-java-gateway java-1.8.0
/etc/zabbix/zabbix_java_gateway.conf
</pre>

<p>其实默认是不需要修改的，</p>
<p>监听IP地址，PORT、PID、START_POLLERS,根据有多少JAVA应用来设置、TIMEOUT(经验值，1－30）</p>
<pre><code>systemctl start zabbix-java-gateway.service
</code></pre><p>装一个实现tab实例命令的包</p>
<pre>
yum install bash-completion
</pre>
启动成功后会监控一个10052的端口，它是一个java应用

配置/etc/zabbix/zabbix_server.conf来指定gateway的地址

    JavaGateway=192.168.56.11
    StartJavaPollers=5
    systemctl restart zabbix-server


***Install Tomcat***

<pre>
cd /usr/local/src
wget http://mirrors.tuna.tsinghua.edu.cn/apache/tomcat/tomcat-8/v8.0.36/bin/apache-tomcat-8.0.36.tar.gz
tar zxf apache-tomcat-8.0.36.tar.gz 
mv apache-tomcat-8.0.36 /usr/local/
ln -s /usr/local/apache-tomcat-8.0.36/ /usr/local/tomcat
/usr/local/tomcat/bin/startup.sh
netstat -lntup|grep 8080
</pre>

<p><strong><em>remote monitor</em></strong></p>
<pre><code>vim /usr/local/tomcat/bin/catalina.sh
       CATALINA_OPTS=&quot;$CATALINA_OPTS -Dcom.sun.management.jmxremote
  -Dcom.sun.management.jmxremote.port=8888
  -Dcom.sun.management.jmxremote.ssl=false
  -Dcom.sun.management.jmxremote.authenticate=false
  -Djava.rmi.server.hostname=192.168.56.12&quot;
</code></pre><p><em>重启tomcat</em></p>
<pre><code>shutdown.sh
startup.sh
</code></pre><p>这个模板自带的模块有很多没用的，需要自己看一下。jconsole</p>
<h5 id="手动检测监控状态"><a href="#手动检测监控状态" class="headerlink" title="手动检测监控状态"></a>手动检测监控状态</h5><pre>
yum install -y zabbix-get
zabbix_get -s 192.168.56.12 -k jmx["java.lang:type=Runtime",Uptime]
</pre>

<p><a href="https://java.com/zh_CN/download/chrome.jsp" target="_blank" rel="external">windows下安装java</a></p>
<h2 id="生产角度"><a href="#生产角度" class="headerlink" title="生产角度"></a>生产角度</h2><ol>
<li>开启Nginx监控</li>
<li>编写脚本来进行数据采集</li>
<li>设置用户自定义参数</li>
<li>重启zabbix-agent</li>
<li>添加item</li>
<li>创建图形</li>
<li>创建触发器</li>
<li>创建模板</li>
</ol>
<p>这时有一个问题就是如果多加一台机器的话就需要再来一遍，所以 这里要学会创建模板</p>
<p>模板里面包含什么呢？图形、item、触发器、screen等。</p>
<p>看一下监控插件 (补笔记)</p>
<p>zabbix_linux_plugin.sh<br>修改nginx配置文件显示状态，并限制只有本地能够访问</p>
<pre><code>location /nginx_status {
            stub_status on;
            access_log  off;
            allow 127.0.0.1;
            deny all;
        }
</code></pre><p>编写自定义key并测试访问结果</p>
<pre>
[root@linux-node1 zabbix_agentd.d]# cat linux.conf 
UserParameter=linux_status[*],/etc/zabbix/zabbix_agentd.d/zabbix_linux_plugin.sh "$1" "$2" "$3"
systemctl restart zabbix-agent.service 
[root@linux-node1 zabbix_agentd.d]# zabbix_get -s 192.168.56.11 -k linux_status[nginx_status,8080,active]
1
</pre>

<p>加一个永久性的模板   </p>
<p>加item  加应用（给item分组）    加图形</p>
<h2 id="触发器"><a href="#触发器" class="headerlink" title="触发器"></a>触发器</h2><p>讲了添加一个触发器和修改默认模板触发器的值</p>
<h2 id="自定义脚本报警"><a href="#自定义脚本报警" class="headerlink" title="自定义脚本报警"></a>自定义脚本报警</h2><p>pymail.py</p>
<ol>
<li>脚本存放地址：<br>zabbix-server : AlertScriptsPath=/usr/lib/zabbix/alertscripts</li>
<li>支持三个参数（收件人、主题、内容）</li>
<li>执行权限</li>
<li>Web界面添加</li>
<li>修改Action</li>
</ol>
<p>如阿里大鱼短信通道，验证码，手机通知，广告等都是通过短信通道来实现的，而且还有规范，工信部 也就是说必须有一个签名，而且得有模板，短信模板也要备案，多一个字都发不出去，也有一些通道没有定义那么严格，就可以来做我们的报警<br>一条4.5分左右 </p>
<p>可以注册一个，一般有HTTP的API，所以在脚本里面写一个CURL就可以了</p>
<pre>
curl -X POST 'http://gw.api.taobao.com/router/rest' \
-H 'Content-Type:application/x-www-form-urlencoded;charset=utf-8' \
-d 'app_key=12129701' \
-d 'format=json' \
-d 'method=alibaba.aliqin.fc.sms.num.send' \
-d 'partner_id=apidoc' \
-d 'sign=98C9750B4FFCD0BCEF7805FAA201391A' \
-d 'sign_method=hmac' \
-d 'timestamp=2016-06-18+15%3A06%3A21' \
-d 'v=2.0' \
-d 'extend=123456' \
-d 'rec_num=13000000000' \
-d 'sms_free_sign_name=%E9%98%BF%E9%87%8C%E5%A4%A7%E9%B1%BC' \
-d 'sms_param=%7B%5C%22code%5C%22%3A%5C%221234%5C%22%2C%5C%22product%5C%22%3A%5C%22alidayu%5C%22%7D' \
-d 'sms_template_code=SMS_585014' \
-d 'sms_type=normal'
</pre>


<p>亿美软通   阿里大鱼</p>
<p>短信内容<br>L: {TRIGGER.SEVERITY}</p>
<p> {ITEM.NAME1} ({HOST.NAME1}:{ITEM.KEY1}): {ITEM.VALUE1}</p>
<p>winxin.qq.com</p>
<p>公众平台</p>
<p>个人服务号不允许直接给关注的用户发送消息</p>
<p>让公司注册微信企业号，然后直接CURL过去就可以发了，有一个KEY，但是</p>
<p><strong>所有业务类的报警全是走的邮件，而且只是上班期间发，运维的话就发短信</strong></p>
<p>叮叮  QQ  飞信  </p>
<p><strong>不管发什么，上面这三条留着，也就是记录发送的日志</strong></p>
<p>####### MySQL</p>
<p>使用percona监控插件监控MySQL</p>
<p>zabbix中真正监控MySQL的时候用的是percona的监控脚本</p>
<p>percona.com</p>
<p><a href="https://www.percona.com/doc/percona-monitoring-plugins/1.1/zabbix/index.html#installation-instructions" target="_blank" rel="external">perona</a></p>
<p>它是从cacti来改过来的，也有一整套的zabbix模板</p>
<p><a href="https://www.percona.com/doc/percona-server/5.6/installation/yum_repo.html" target="_blank" rel="external">https://www.percona.com/doc/percona-server/5.6/installation/yum_repo.html</a></p>
<pre>
yum install http://www.percona.com/downloads/percona-release/redhat/0.1-3/percona-release-0.1-3.noarch.rpm
yum install percona-zabbix-templates php php-mysql -y
cp /var/lib/zabbix/percona/templates/userparameter_percona_mysql.conf /etc/zabbix/zabbix_agentd.d/
systemctl restart zabbix-agent.service
</pre>

<ol>
<li>php脚本用来数据采集</li>
<li>shell  调用这个php</li>
<li>zabbix配置文件</li>
<li>zabbix模板文件</li>
</ol>
<p>创建zabbix监控专用用户</p>
<p>[root@linux-node1 scripts]# ./get_mysql_stats_wrapper.sh gm<br>1</p>
<pre>
[root@linux-node1 zabbix_agentd.d]# rpm -ql percona-zabbix-templates
/var/lib/zabbix/percona
/var/lib/zabbix/percona/scripts
/var/lib/zabbix/percona/scripts/get_mysql_stats_wrapper.sh
/var/lib/zabbix/percona/scripts/ss_get_mysql_stats.php
/var/lib/zabbix/percona/templates
/var/lib/zabbix/percona/templates/userparameter_percona_mysql.conf
/var/lib/zabbix/percona/templates/zabbix_agent_template_percona_mysql_server_ht_2.0.9-sver1.1.6.xml
</pre>

<h2 id="web监控"><a href="#web监控" class="headerlink" title="web监控"></a>web监控</h2><p>默认自带<br>前面在56.12上启动了一个tomcat,现在就监控这个<br>configure  hosts<br>它不依赖于agent</p>
<p>打印机也可以监控</p>
<p>树没派</p>
<p>当监控的主机越来越多的时候就会出现一些问题</p>
<p>如<br>性能瓶颈（怎么看能不能搞住   administratior–queue,看这个值，如果延时太多就是有问题）</p>
<p>zabbix可以轻松解决这两个问题，而nagios不太好解决</p>
<ol>
<li>监控主机多，性能跟不上，延迟大</li>
<li>多机房，防火墙的因素</li>
</ol>
<p>对于第一点来说</p>
<p>默认server去轮询问客户机，server就会很繁忙，所以要提到zabbix的监控模式，默认是被动模式，还有一个是主动模式</p>
<p>针对Agent来说</p>
<ol>
<li>被动模式(点开item  type)</li>
<li>主动模式（Active）</li>
</ol>
<blockquote>
<p>当监控主机超过300+，建议使用主动模式，这只是一个经验值</p>
</blockquote>
<p>条件</p>
<ol>
<li>queue里有大量延时的item</li>
<li>当监控主机超过300+</li>
</ol>
<h5 id="把node2改成主动模式"><a href="#把node2改成主动模式" class="headerlink" title="把node2改成主动模式"></a>把node2改成主动模式</h5><p>######### 配置客户端</p>
<pre>
vim /etc/zabbix/zabbix_agnet.conf
ServerActive=192.168.56.11 （如果跨机房，可以改成域名）
StartAgents=0
Hostname=linx-node2.oldboyedu.com 
[root@linux-node2 ~]# grep '^[a-Z]' /etc/zabbix/zabbix_agentd.conf 
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=0
DebugLevel=3
StartAgents=0
ServerActive=192.168.56.11
Hostname=linux-node2.oldboyedu.com
Include=/etc/zabbix/zabbix_agentd.d/
systemctl restart zabbix-agent
</pre>

<p>这里agent起来连端口都不监控了，这样防火墙也好做</p>
<p>########  配置服务器端</p>
<p>就是在WEB界面添加active的items tmeplates 和hosts</p>
<h2 id="zabbix-Proxy"><a href="#zabbix-Proxy" class="headerlink" title="zabbix Proxy"></a>zabbix Proxy</h2><p>不仅仅解决多主机的问题，还解决多机房的问题</p>
<p>它是一个代理，代替Zabbix Server去获取内容，存在本地，然后再发给server</p>
<p>zabbix-server    –&gt;  zabbix proxy  – zabbix agent</p>
<p>www.zabbix.com/documentation/3.0/distributed_monitoring</p>
<p>特征：</p>
<p>不做告警通知，没有WEB,没有触发器，可以理解为纯收集，并且它是需要数据库的，所以它不能跟server装在同一台数据库上，因为它的一些表名是一样的</p>
<p>######## 安装proxy</p>
<pre><code>yum install -y zabbix-proxy zabbix-proxy-mysql mariadb-server
systemctl start mariadb
mysql
create database zabbix_proxy character set utf8;
grant all on zabbix_proxy.* to zabbix_proxy@localhost identified by &apos;zabbix_proxy&apos;;
cd /usr/share/doc/zabbix-proxy-mysql-3.0.3
zcat schema.sql.gz | mysql -uzabbix_proxy -p zabbix_proxy
</code></pre><p>改配置文件</p>
<pre><code>[root@linux-node2 ~]# grep &apos;^[a-Z]&apos; /etc/zabbix/zabbix_proxy.conf 
Server=192.168.56.11
Hostname=zabbix-proxy
LogFile=/var/log/zabbix/zabbix_proxy.log
LogFileSize=0
PidFile=/var/run/zabbix/zabbix_proxy.pid
DBName=zabbix_proxy
DBUser=zabbix_proxy
DBPassword=zabbix_proxy
SNMPTrapperFile=/var/log/snmptrap/snmptrap.log
Timeout=4
ExternalScripts=/usr/lib/zabbix/externalscripts
LogSlowQueries=3000



[root@linux-node2 ~]# grep &apos;^[a-Z]&apos; /etc/zabbix/zabbix_proxy.conf 
Server=192.168.56.11
Hostname=zabbix-proxy
LogFile=/var/log/zabbix/zabbix_proxy.log
LogFileSize=0
PidFile=/var/run/zabbix/zabbix_proxy.pid
DBHost=localhost
DBName=zabbix_proxy
DBUser=zabbix_proxy
DBPassword=zabbix_proxy
SNMPTrapperFile=/var/log/snmptrap/snmptrap.log
Timeout=4
ExternalScripts=/usr/lib/zabbix/externalscripts
LogSlowQueries=3000


systemctl start zabbix-proxy
netstat -lntup
tcp        0      0 0.0.0.0:10051           0.0.0.0:*               LISTEN      18144/zabbix_proxy 
</code></pre><p>web界面添加</p>
<p>administration   proxies   create </p>
<p>zabbix-proxy</p>
<p>找一台机器做实验</p>
<p>monitor by proxy</p>
<p>zabbix-agent.conf<br>ServerActive=192.168.56.12</p>
<p>restart zabbix-agent </p>
<p>上面就是分布式监控里面的两种解决方式</p>
<p>生产中最大的问题其实是数据库的问题，而且有几张表会特别的大，有几点是可以做的，如SSD（不太贵了）、定期删除一些数据（要求保留三年的数据，但今年肯定不会查去年的，但是需要有，可以一年一个库）、做表分区、定期删除老数据，做表优化、让每个表一个数据文件（innodb）。</p>
<h2 id="自动化监控"><a href="#自动化监控" class="headerlink" title="自动化监控"></a>自动化监控</h2><p>需要不停地点鼠标，所以要做自动化的监控</p>
<p>分类：（所有的自动化都可以分为两种）</p>
<ol>
<li>自动注册</li>
<li>主动发现</li>
</ol>
<p>自动注册就是我起来了就告诉老大，我要当你小弟</p>
<p>主动发现就是我主动发现你。</p>
<p>这两种方法zabbix都支持</p>
<ul>
<li>自动注册<ul>
<li>zabbix agent自动添加</li>
</ul>
</li>
</ul>
<ol>
<li>主动发现<ol>
<li>自动发现discover</li>
<li>zabbix api</li>
</ol>
</li>
</ol>
<h3 id="自动发现（注册）"><a href="#自动发现（注册）" class="headerlink" title="自动发现（注册）"></a>自动发现（注册）</h3><p>server是谁，我是谁，我有什么特征（方便配置模板）</p>
<pre><code>vim /etc/zabbix/zabbix_agentd.conf
[root@linux-node2 ~]# grep &apos;^[a-Z]&apos; /etc/zabbix/zabbix_agentd.conf 
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=0
StartAgents=0
ServerActive=192.168.56.11
Hostname=linux-node2.oldboyedu.com
HostMetadataItem=system.uname
Include=/etc/zabbix/zabbix_agentd.d/
systemctl restart zabbix-agent
</code></pre><p>configure  action  auto registration   create action</p>
<h4 id="自动-发现"><a href="#自动-发现" class="headerlink" title="自动 发现"></a>自动 发现</h4><p>configure   discovery<br>文档： network discovery</p>
<p>创建一个discovery</p>
<p>改配置文件</p>
<pre><code>[root@linux-node2 ~]# grep &apos;^[a-Z]&apos; /etc/zabbix/zabbix_agentd.conf 
PidFile=/var/run/zabbix/zabbix_agentd.pid
LogFile=/var/log/zabbix/zabbix_agentd.log
LogFileSize=0
Server=192.168.56.11
StartAgents=3
Hostname=linux-node2.oldboyedu.com
HostMetadataItem=system.uname
Include=/etc/zabbix/zabbix_agentd.d/
</code></pre><p>生产中有坑，一般不用，link的不是特别准确，还有就是VIP的问题，一般用API</p>
<h2 id="API（服务化）"><a href="#API（服务化）" class="headerlink" title="API（服务化）"></a>API（服务化）</h2><p><a href="https://www.zabbix.com/documentation/3.0/manual/discovery/network_discovery**" target="_blank" rel="external">https://www.zabbix.com/documentation/3.0/manual/discovery/network_discovery**</a></p>
<p>两个功能，要么查询，要么管理</p>
<p>使用<br>发送POST请求到</p>
<pre><code>curl -s -X POST -H &apos;Content-Type:application/json&apos; -d &apos;
{
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;method&quot;: &quot;user.login&quot;,
    &quot;params&quot;: {
        &quot;user&quot;: &quot;zhangsan&quot;,
        &quot;password&quot;: &quot;123456&quot;
    },
    &quot;id&quot;: 1
}&apos; http://192.168.56.11/zabbix/api_jsonrpc.php | python -m json.tool
</code></pre><p>返回：<br>    {<br>        “id”: 1,<br>        “jsonrpc”: “2.0”,<br>        “result”: “77cec95b062cd2ab54783ef45035959c”<br>    }</p>
<p>通过cookie显示所有的主机</p>
<pre><code>curl -s -X POST -H &apos;Content-Type:application/json&apos; -d &apos;    
{
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;method&quot;: &quot;host.get&quot;,
    &quot;params&quot;: {
        &quot;output&quot;: [&quot;host&quot;]
    },
    &quot;auth&quot;: &quot;77cec95b062cd2ab54783ef45035959c&quot;,
    &quot;id&quot;: 1
}&apos; http://192.168.56.11/zabbix/api_jsonrpc.php | python -m json.tool
</code></pre><p>效果：</p>
<pre><code>[root@linux-node2 ~]# curl -s -X POST -H &apos;Content-Type:application/json&apos; -d &apos; 
&gt; {
&gt;     &quot;jsonrpc&quot;: &quot;2.0&quot;,
&gt;     &quot;method&quot;: &quot;host.get&quot;,
&gt;     &quot;params&quot;: {
&gt;         &quot;output&quot;: [&quot;host&quot;]
&gt;     },
&gt;     &quot;auth&quot;: &quot;77cec95b062cd2ab54783ef45035959c&quot;,
&gt;     &quot;id&quot;: 1
&gt; }&apos; http://192.168.56.11/zabbix/api_jsonrpc.php | python -m json.tool
{
    &quot;id&quot;: 1,
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;result&quot;: [
        {
            &quot;host&quot;: &quot;Zabbix server&quot;,
            &quot;hostid&quot;: &quot;10084&quot;
        },
        {
            &quot;host&quot;: &quot;linux-node1.oldboyedu.com&quot;,
            &quot;hostid&quot;: &quot;10105&quot;
        },
        {
            &quot;host&quot;: &quot;linux-node2.oldboyedu.com&quot;,
            &quot;hostid&quot;: &quot;10114&quot;
        }
    ]
}
</code></pre><p>######### template</p>
<p><em>显示所有的模板</em></p>
<pre><code>curl -s -X POST -H &apos;Content-Type:application/json&apos; -d &apos;    
{
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;method&quot;: &quot;template.get&quot;,
    &quot;params&quot;: {
        &quot;output&quot;: &quot;extend&quot;,
        &quot;filter&quot;: {
            &quot;host&quot;: [
                &quot;Template OS Linux&quot;,
                &quot;Template OS Windows&quot;
            ]
        }
    },
    &quot;auth&quot;: &quot;77cec95b062cd2ab54783ef45035959c&quot;,
    &quot;id&quot;: 1
}&apos; http://192.168.56.11/zabbix/api_jsonrpc.php | python -m json.tool
</code></pre><p>一个python的脚本（只是一个认证的）</p>
<p>yum install python-pip -y<br>pip install requests<br>[root@linux-node2 ~]# python zabbix_auth.py<br>9e1768f8751a54fe2319f6754c83a017</p>
<h6 id="使用API来自动加"><a href="#使用API来自动加" class="headerlink" title="使用API来自动加"></a>使用API来自动加</h6><pre><code>curl -s -X POST -H &apos;Content-Type:application/json&apos; -d &apos;
{
    &quot;jsonrpc&quot;: &quot;2.0&quot;,
    &quot;method&quot;: &quot;host.create&quot;,
    &quot;params&quot;: {
        &quot;host&quot;: &quot;Linux server&quot;,
        &quot;interfaces&quot;: [
            {
                &quot;type&quot;: 1,
                &quot;main&quot;: 1,
                &quot;useip&quot;: 1,
                &quot;ip&quot;: &quot;192.168.56.12&quot;,
                &quot;dns&quot;: &quot;&quot;,
                &quot;port&quot;: &quot;10050&quot;
            }
        ],
        &quot;groups&quot;: [
            {
                &quot;groupid&quot;: &quot;8&quot;
            }
        ],
        &quot;templates&quot;: [
            {
                &quot;templateid&quot;: &quot;10001&quot;
            }
        ]
    },
    &quot;auth&quot;: &quot;9e1768f8751a54fe2319f6754c83a017&quot;,
    &quot;id&quot;: 1
}&apos; http://192.168.56.11/zabbix/api_jsonrpc.php | python -m json.tool
</code></pre><p><a href="http://www.aclstack.com/category/%E8%BF%90%E7%BB%B4%E5%B7%A5%E5%85%B7" target="_blank" rel="external">saltstack</a></p>
<h2 id="画图时间"><a href="#画图时间" class="headerlink" title="画图时间"></a>画图时间</h2><p>未来自动化的蓝图</p>
<h3 id="作业"><a href="#作业" class="headerlink" title="作业"></a>作业</h3><ol>
<li>复习</li>
<li>预习</li>
</ol>
<p>怎么学各种监控方式（官方文档）</p>
<p>www.zabbix.com/documentation.php</p>
<p>状态  主机  监控项</p>
<p>折腾：</p>
<p><a href="http://www.52devops.com/chuck/630.html" target="_blank" rel="external">马亮</a><br><a href="http://www.jixuege.com" target="_blank" rel="external">谢迪</a><br><a href="http://bjstack.combjstack.com" target="_blank" rel="external">良辰</a></p>

      
    </div>

    <div>
      
        
      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/06/20/主机规范/" rel="next" title="主机规范">
                <i class="fa fa-chevron-left"></i> 主机规范
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2016/06/26/sockstack/" rel="prev" title="sockstack">
                sockstack <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://github.com/Aresona/edu-docs/blob/master/image/%E5%A4%B4%E5%83%8F.jpg"
               alt="John Doe" />
          <p class="site-author-name" itemprop="name">John Doe</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">1</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-6"><a class="nav-link" href="#web配置（通过克隆的方式）"><span class="nav-number">1.</span> <span class="nav-text">web配置（通过克隆的方式）</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#报警"><span class="nav-number"></span> <span class="nav-text">报警</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#事件通知的几个方面"><span class="nav-number"></span> <span class="nav-text">事件通知的几个方面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#完整的告警流程"><span class="nav-number"></span> <span class="nav-text">完整的告警流程</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生产案例实战"><span class="nav-number"></span> <span class="nav-text">生产案例实战</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#项目规划"><span class="nav-number"></span> <span class="nav-text">项目规划</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#实施监控"><span class="nav-number"></span> <span class="nav-text">实施监控</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#SNMP监控"><span class="nav-number">1.</span> <span class="nav-text">SNMP监控</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#IPMI监控"><span class="nav-number">2.</span> <span class="nav-text">IPMI监控</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#使用Agent监控服务器"><span class="nav-number">3.</span> <span class="nav-text">使用Agent监控服务器</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#使用JMX监控JAVA"><span class="nav-number">4.</span> <span class="nav-text">使用JMX监控JAVA</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#手动检测监控状态"><span class="nav-number"></span> <span class="nav-text">手动检测监控状态</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#生产角度"><span class="nav-number"></span> <span class="nav-text">生产角度</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#触发器"><span class="nav-number"></span> <span class="nav-text">触发器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自定义脚本报警"><span class="nav-number"></span> <span class="nav-text">自定义脚本报警</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#web监控"><span class="nav-number"></span> <span class="nav-text">web监控</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#把node2改成主动模式"><span class="nav-number"></span> <span class="nav-text">把node2改成主动模式</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#zabbix-Proxy"><span class="nav-number"></span> <span class="nav-text">zabbix Proxy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#自动化监控"><span class="nav-number"></span> <span class="nav-text">自动化监控</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#自动发现（注册）"><span class="nav-number"></span> <span class="nav-text">自动发现（注册）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#自动-发现"><span class="nav-number"></span> <span class="nav-text">自动 发现</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#API（服务化）"><span class="nav-number"></span> <span class="nav-text">API（服务化）</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#使用API来自动加"><span class="nav-number">1.</span> <span class="nav-text">使用API来自动加</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#画图时间"><span class="nav-number"></span> <span class="nav-text">画图时间</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#作业"><span class="nav-number"></span> <span class="nav-text">作业</span></a></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  
  

  

  

</body>
</html>
